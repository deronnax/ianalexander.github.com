<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>
        ianalexandr.com full text feed    </title>
        <link href="blog/atom.xml" rel="self" />
    
        <link href="/"/>
    
        
    <updated>2013-05-20T14:16:46Z</updated>

    <id>/blog/atom.xml/</id>

            <entry>
            <title type="html">Summary of the Amazon Web Services AMA</title>
            <author><name>Ian Alexander</name></author>
            <link href="/blog/summary-of-amazon-web-services-ama.html"/>
            <updated>2013-05-20T22:00:00Z</updated>
            <published>2013-05-20T22:00:00Z</published>
            <id>/blog/summary-of-amazon-web-services-ama.html</id>
            
            <content type="html">
                                &lt;p&gt;Last week, a reddit user under the name &amp;#8216;&lt;span class=&#34;caps&#34;&gt;AWSIAMA&lt;/span&gt;&amp;#8217; &lt;a href=&#34;http://www.reddit.com/r/IAmA/comments/1e5o4p/iaman_exaws_engineer_ask_me_anything_about_the/&#34;&gt;posted an &lt;span class=&#34;caps&#34;&gt;AMA&lt;/span&gt;&lt;/a&gt; about being an Engineer at the &lt;span class=&#34;caps&#34;&gt;AWS&lt;/span&gt; cloud. Like most Reddit AMAs, there is a lot of noise to get to the really good parts. This is a summary of the &lt;span class=&#34;caps&#34;&gt;AMA&lt;/span&gt; highlighting the most interesting and useful pieces of&amp;nbsp;information.&lt;/p&gt;
&lt;h2&gt;Working at&amp;nbsp;Amazon&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Negative, their stock plan isn&amp;#8217;t very great either. You don&amp;#8217;t go to Amazon for the pay. You go for the free beer, literally. Also, there is a 10% discount on all things at Amazon.com up to the first $1000. So a maximum of $100 in savings. The companies core values include &amp;#8220;frugality&amp;#8221; and that&amp;#8217;s just the word &amp;#8220;cheap&amp;#8221; wrapped up in a&amp;nbsp;bow.&lt;/p&gt;
&lt;p&gt;&amp;#8230;&lt;/p&gt;
&lt;p&gt;Amazon is a product of the past laying the groundwork for the future. One of my friends who was a &lt;span class=&#34;caps&#34;&gt;SDE&lt;/span&gt; (Software Development Engineer) had the most mundane tasks ever. He actually quit as well and went to work somewhere for a little less money, but doing some far more rewarding&amp;nbsp;work.&lt;/p&gt;
&lt;p&gt;Putting Amazon &lt;span class=&#34;caps&#34;&gt;SDE&lt;/span&gt; on your resume is quickly turning into the same thing as putting Google &lt;span class=&#34;caps&#34;&gt;SDE&lt;/span&gt; on your resume. So, while you may feel it&amp;#8217;s boring, the real reward will be the job opportunities in the&amp;nbsp;future.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;The Cloud&amp;#8221; and Marketing&amp;nbsp;Hype&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;The cloud, it&amp;#8217;s an &amp;#8220;interesting&amp;#8221; concept, because in a lot of ways it&amp;#8217;s still just a &lt;span class=&#34;caps&#34;&gt;VPS&lt;/span&gt;. Sure it has some redundant features, but the definition of cloud is fairly dynamic and bent to fit whatever a company wants to sell as a&amp;nbsp;&amp;#8220;cloud&amp;#8221;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;The&amp;nbsp;Competition&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;I believe that Microsoft Azure and &lt;span class=&#34;caps&#34;&gt;AWS&lt;/span&gt; (as well as Google Compute Cloud, Rackspace and even places like Linode) are all on the same playing field to a point. If it was a venn diagram (remember 2nd grade now) there would be major overlap. The places outside the overlap is what differentiates all the individual&amp;nbsp;companies.&lt;/p&gt;
&lt;p&gt;I think that healthy competition will drive down pricing to fair levels as well as encourage upgrades and better levels of quality all around. As far as serious threat? Well, no, I don&amp;#8217;t consider Azure a threat to &lt;span class=&#34;caps&#34;&gt;AWS&lt;/span&gt;, but I consider Google a threat to &lt;span class=&#34;caps&#34;&gt;AWS&lt;/span&gt;. Google&amp;#8217;s cloud has been outperforming &lt;span class=&#34;caps&#34;&gt;AWS&lt;/span&gt; since very private beta and performance means a lot in the&amp;nbsp;cloud.&lt;/p&gt;
&lt;p&gt;Anyone who thinks there is a &amp;#8220;cloud war&amp;#8221; currently and &lt;span class=&#34;caps&#34;&gt;AWS&lt;/span&gt; is seeing any type of real challenge is just fooling themselves. Nobody can compete currently with the size of &lt;span class=&#34;caps&#34;&gt;AWS&lt;/span&gt;, they were the first in and will be the last&amp;nbsp;out.&lt;/p&gt;
&lt;p&gt;Google however will make it rain a bit, I&amp;#8217;ve been using their cloud platform a little bit lately and I have to say. It&amp;#8217;s hella&amp;nbsp;impressive.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;span class=&#34;caps&#34;&gt;EBS&lt;/span&gt;, &lt;span class=&#34;caps&#34;&gt;EBS&lt;/span&gt;-Optimized &lt;span class=&#34;amp&#34;&gt;&amp;amp;&lt;/span&gt; Provisioned&amp;nbsp;&lt;span class=&#34;caps&#34;&gt;IOPS&lt;/span&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;caps&#34;&gt;EBS&lt;/span&gt; v. EBSo is honestly the easiest thing to explain why you need it. &lt;span class=&#34;caps&#34;&gt;EBS&lt;/span&gt; and network traffic flows over the same &lt;span class=&#34;caps&#34;&gt;NIC&lt;/span&gt;. EBSo adds a &lt;span class=&#34;caps&#34;&gt;QOS&lt;/span&gt; marker to the packets. That simple. Anyone you talk to with some networking background will explain to you that by doing that, you&amp;#8217;re going to significantly smooth out your &lt;span class=&#34;caps&#34;&gt;EBS&lt;/span&gt; experience under heavy load&amp;nbsp;instantly.&lt;/p&gt;
&lt;p&gt;The ratio is simply marketing, it&amp;#8217;s the internal break point. If you&amp;#8217;re using &lt;span class=&#34;caps&#34;&gt;10GB&lt;/span&gt; and rushing 30k &lt;span class=&#34;caps&#34;&gt;IOPS&lt;/span&gt; over it, they&amp;#8217;re not actually breaking even on the disk since you&amp;#8217;re over utilizing the network bandwidth. The 10:1 ratio helps keep the whole system in that happy green zone where there is a nice profit margin and good&amp;nbsp;performance.&lt;/p&gt;
&lt;p&gt;Provisioned &lt;span class=&#34;caps&#34;&gt;IOPS&lt;/span&gt; are typically best to move to &lt;span class=&#34;caps&#34;&gt;AFTER&lt;/span&gt; you learn what your disk io is going to look like. Profile your &lt;span class=&#34;caps&#34;&gt;EBS&lt;/span&gt; volumes, and if you use on average 318 &lt;span class=&#34;caps&#34;&gt;IOPS&lt;/span&gt; throughout the month, then allocate &lt;span class=&#34;caps&#34;&gt;280IOP&lt;/span&gt; disks, if you calculate out the &lt;span class=&#34;caps&#34;&gt;IOPS&lt;/span&gt; cost on non &lt;span class=&#34;caps&#34;&gt;PIOPS&lt;/span&gt; disks to &lt;span class=&#34;caps&#34;&gt;PIOPS&lt;/span&gt; cost, you&amp;#8217;ll&amp;nbsp;save.&lt;/p&gt;
&lt;p&gt;Consider &lt;span class=&#34;caps&#34;&gt;PIOPS&lt;/span&gt; more of reservation and then it&amp;#8217;s best paired with EBSo to ensure you can get quality &lt;span class=&#34;caps&#34;&gt;IO&lt;/span&gt; at all&amp;nbsp;times.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;Dirty Secret&amp;#8221; of&amp;nbsp;&lt;span class=&#34;caps&#34;&gt;RDS&lt;/span&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;So, here&amp;#8217;s a &lt;span class=&#34;caps&#34;&gt;BIG&lt;/span&gt; secret to &lt;span class=&#34;caps&#34;&gt;RDS&lt;/span&gt;. Create a new &lt;span class=&#34;caps&#34;&gt;RDS&lt;/span&gt; instance. Allocate the minimum amount of storage possible. Then, increase that storage by &lt;span class=&#34;caps&#34;&gt;5GB&lt;/span&gt; (only works on Oracle and MySQL) until you hit how much you want. Yes, this is slow, yes, this is a &lt;span class=&#34;caps&#34;&gt;HUGE&lt;/span&gt; pain in the ass. But, everytime you increase storage, you&amp;#8217;re striping disks. More disks = better io and less seek time and in turn reducing &lt;span class=&#34;caps&#34;&gt;CPU&lt;/span&gt; load and increasing responsiveness. Dirty little secret, lots of people do&amp;nbsp;it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;span class=&#34;caps&#34;&gt;AWS&lt;/span&gt;&amp;#8217; Xen&amp;nbsp;Setup&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Well, typically the hardware nodes (&lt;span class=&#34;caps&#34;&gt;HN&lt;/span&gt;) runs a copy of Amazon Linux, which has several internal flavors. Obviously this is done to maintain image quality and keep reproducibility. Each &lt;span class=&#34;caps&#34;&gt;HN&lt;/span&gt; is silo&amp;#8217;d like you say. So, if you&amp;#8217;re running m1.xl, you&amp;#8217;ll be sharing with only other m1.xl&amp;#8217;s. There are two flavors of &lt;span class=&#34;caps&#34;&gt;HN&lt;/span&gt;&amp;#8217;s, one for &amp;#8220;on-demand&amp;#8221; and one for &amp;#8220;vpc&amp;#8221; (hence the new &lt;span class=&#34;caps&#34;&gt;VPC&lt;/span&gt; by default announcement to fix that disparity). On the old on-demand &lt;span class=&#34;caps&#34;&gt;HN&lt;/span&gt;&amp;#8217;s you have &amp;#8220;slots&amp;#8221;, each slot is assigned an internal &lt;span class=&#34;caps&#34;&gt;IP&lt;/span&gt; address. Once your server is in a slot, it get&amp;#8217;s that internal &lt;span class=&#34;caps&#34;&gt;IP&lt;/span&gt; address and an &lt;span class=&#34;caps&#34;&gt;EIP&lt;/span&gt; is &lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt;&amp;#8217;d to that internal&amp;nbsp;&lt;span class=&#34;caps&#34;&gt;IP&lt;/span&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;On-Demand vs.&amp;nbsp;&lt;span class=&#34;caps&#34;&gt;VPC&lt;/span&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;The major difference between &lt;span class=&#34;caps&#34;&gt;VPC&lt;/span&gt; and On-Demand &lt;span class=&#34;caps&#34;&gt;HN&lt;/span&gt;&amp;#8217;s is the fact that the On-Demand &lt;span class=&#34;caps&#34;&gt;HN&lt;/span&gt;&amp;#8217;s, like I said, have IPs assigned to the slots. Where the &lt;span class=&#34;caps&#34;&gt;VPC&lt;/span&gt; &lt;span class=&#34;caps&#34;&gt;HN&lt;/span&gt;&amp;#8217;s do as well, but they&amp;#8217;re not used. They get your subnet routed to them. They get &lt;span class=&#34;caps&#34;&gt;EC2&lt;/span&gt; &amp;#8220;slots&amp;#8221; because it&amp;#8217;s easier to maintain a single platform as much as possible and diverging as less as&amp;nbsp;possible.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt;&amp;nbsp;Servers&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;As far as &lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt; servers, hate them sons of bitches. Honestly, Amazon should have invested in real hardware. &lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt; instances aren&amp;#8217;t actually &amp;#8220;&lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt;&amp;#8221; according to &lt;span class=&#34;caps&#34;&gt;RFC&lt;/span&gt;, they&amp;#8217;re actually &lt;span class=&#34;caps&#34;&gt;PAT&lt;/span&gt; (Port Address Translation). They just translate all ports and forward them. However, because the &lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt; devices are actually x86 devices, you gotta use a ton of them to get the throughput of a single mid-grade router doing the same function due to a lack of &lt;span class=&#34;caps&#34;&gt;ASIC&lt;/span&gt; chips. Stupid choice&amp;nbsp;imo.&lt;/p&gt;
&lt;p&gt;The &lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt; devices which are doing all this work are called &amp;#8220;Blackfoots&amp;#8221; unless you&amp;#8217;ve spawned a specific &amp;#8220;&lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt; Instance&amp;#8221; in your &lt;span class=&#34;caps&#34;&gt;VPC&lt;/span&gt;, which is an instance, obviously. The Blackfoots are shared &lt;span class=&#34;caps&#34;&gt;NAT&lt;/span&gt; devices on fairly beefy hardware and do multiple 10Gb network ports worth of&amp;nbsp;&lt;span class=&#34;caps&#34;&gt;PAT&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;If I were to re-architect the network layer, I would grab a handful of Nexus 7000&amp;#8217;s for routing all my internal traffic, do 1:1 natting at the Nexus, then run some Nexus 5000&amp;#8217;s to each row of racks and terminate each rack with a Nexus fabric extender. The network performance increase would most likely give people whiplash from their neck snapping&amp;nbsp;back.&lt;/p&gt;
&lt;/blockquote&gt;            </content>
        </entry>
            <entry>
            <title type="html">Using EC2 Security Groups with Puppet's ENC in Python</title>
            <author><name>Ian Alexander</name></author>
            <link href="/blog/using-ec2-security-groups-with-puppets-enc-in-python.html"/>
            <updated>2013-04-22T08:00:00Z</updated>
            <published>2013-04-22T08:00:00Z</published>
            <id>/blog/using-ec2-security-groups-with-puppets-enc-in-python.html</id>
            
            <content type="html">
                                &lt;p&gt;Managing node definitions with an &lt;span class=&#34;caps&#34;&gt;ENC&lt;/span&gt; can be tedious and difficult. For the project I am working on, manually adding and removing node definitions simply won&amp;#8217;t work for me. To work around this, I&amp;#8217;ve written a small &lt;span class=&#34;caps&#34;&gt;ENC&lt;/span&gt; in Python that uses &lt;span class=&#34;caps&#34;&gt;EC2&lt;/span&gt; Security Groups to generate node classification for&amp;nbsp;Puppet.&lt;/p&gt;
&lt;h2&gt;ec2-enc.py&lt;/h2&gt;
&lt;p&gt;The &lt;span class=&#34;caps&#34;&gt;ENC&lt;/span&gt; is quite simple. &lt;a href=&#34;https://gist.github.com/ianalexander/5431330&#34;&gt;ec2-enc&lt;/a&gt; accepts only one argument (like an &lt;span class=&#34;caps&#34;&gt;ENC&lt;/span&gt; should), a hostname of the new instance. It then converts the hostname to lowercase and uses Python&amp;#8217;s &lt;code&gt;boto&lt;/code&gt; library to query the &lt;span class=&#34;caps&#34;&gt;EC2&lt;/span&gt; Security Groups for that node. There is a dictionary called &lt;code&gt;GROUPS&lt;/code&gt; that contains key =&amp;gt; value pairs that correspond to an &lt;span class=&#34;caps&#34;&gt;EC2&lt;/span&gt; Security Group and a corresponding Puppet class. The script looks like&amp;nbsp;this:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;#! /usr/bin/python&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span class=&#34;c&#34;&gt;# ec2-enc.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;c&#34;&gt;# A simple Puppet &lt;span class=&#34;caps&#34;&gt;ENC&lt;/span&gt; that converts &lt;span class=&#34;caps&#34;&gt;EC2&lt;/span&gt; Security Groups to Puppet classes&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;boto.ec2&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sys&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span class=&#34;c&#34;&gt;# EC2Group: Puppet Class&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;&lt;span class=&#34;caps&#34;&gt;GROUPS&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;role::default&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;web&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;role::web&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;app&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;role::app&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span class=&#34;n&#34;&gt;conn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;boto&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connect_to_region&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;us-east-1&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&#34;n&#34;&gt;aws_access_key_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;key&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;  &lt;span class=&#34;n&#34;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;secret&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;conn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get_all_instances&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;&lt;br /&gt;  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instances&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;public_dns_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;br /&gt;      &lt;span class=&#34;c&#34;&gt;# print &amp;quot;public: %s\tprivate: %s&amp;quot; % (i.public_dns_name, i.private_dns_name)&lt;/span&gt;&lt;br /&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;private_dns_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lower&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lower&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;c&#34;&gt;# print &amp;quot;match! &amp;quot; + str(i.groups[0].name)&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;k&#34;&gt;print&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;classes:&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;:&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;&lt;span class=&#34;caps&#34;&gt;GROUPS&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;groups&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;h2&gt;Roles and&amp;nbsp;Profiles&lt;/h2&gt;
&lt;p&gt;I highly, highly recommend using a &lt;a href=&#34;http://www.slideshare.net/PuppetLabs/roles-talk&#34;&gt;roles/profiles based puppet architecture&lt;/a&gt; to take best advantage of this system. Each Security Group represents one &amp;#8220;role&amp;#8221; for a type of node, and you can create more security groups to match more role types. This allows you to minize complexity and version control your role defintions, as opposed to having a complex node &lt;span class=&#34;caps&#34;&gt;YAML&lt;/span&gt;&amp;nbsp;definition.&lt;/p&gt;
&lt;h2&gt;Next&amp;nbsp;Steps&lt;/h2&gt;
&lt;p&gt;Depending on your setup, you may need to implement more robust &lt;span class=&#34;caps&#34;&gt;YAML&lt;/span&gt; generation to match a more complex setup. Read up on &lt;a href=&#34;http://docs.puppetlabs.com/guides/external_nodes.html&#34;&gt;Puppet ENCs&lt;/a&gt; to learn how to create a more complex &lt;span class=&#34;caps&#34;&gt;ENC&lt;/span&gt;. Submit a &lt;a href=&#34;https://gist.github.com/ianalexander/5431330&#34;&gt;fork request&lt;/a&gt; if you want to extend&amp;nbsp;it!&lt;/p&gt;            </content>
        </entry>
            <entry>
            <title type="html">Getting Started with Django Logging in 5 Minutes</title>
            <author><name>Ian Alexander</name></author>
            <link href="/blog/getting-started-with-django-logging-in-5-minutes.html"/>
            <updated>2013-04-16T07:30:00Z</updated>
            <published>2013-04-16T07:30:00Z</published>
            <id>/blog/getting-started-with-django-logging-in-5-minutes.html</id>
            
            <content type="html">
                                &lt;p&gt;Setting up Django logging can sometimes be a little complex, so here are the no-nonsense steps required to make a new Django 1.5 instance log to a file without hassles. We&amp;#8217;re going to look at each of the 4 components of Django&amp;nbsp;logging:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Loggers:&lt;/strong&gt; a &lt;em&gt;logger&lt;/em&gt; is the object that we will use to pass messages to the logging&amp;nbsp;system&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Handlers:&lt;/strong&gt; the &lt;em&gt;handler&lt;/em&gt; is an engine that determines what to do with a message when it is recieved from the &lt;em&gt;logger&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Filters:&lt;/strong&gt; allow you to restrict the type of messages that are sent from the &lt;em&gt;logger&lt;/em&gt; to the &lt;em&gt;handler&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Formatters:&lt;/strong&gt; describe the text representation of the log&amp;nbsp;message&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Simple, right? For more information, check out the &lt;a href=&#34;https://docs.djangoproject.com/en/1.5/topics/logging/&#34;&gt;Django documentation on logging&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Setting up your Project for&amp;nbsp;Logging&lt;/h2&gt;
&lt;p&gt;Logging configuration is specified in your project&amp;#8217;s &lt;code&gt;settings.py&lt;/code&gt; file. Let&amp;#8217;s go through each of the four components from bottom to top, one-by-one and explain what we&amp;#8217;re going to&amp;nbsp;do.&lt;/p&gt;
&lt;h2&gt;Formatters&lt;/h2&gt;
&lt;p&gt;First let&amp;#8217;s declare the format that we can log entries in. I&amp;#8217;m going to use two formats, &lt;code&gt;verbose&lt;/code&gt; and &lt;code&gt;simple&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;formatters&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;verbose&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;format&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;[&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(asctime)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;] &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(levelname)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; [&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(name)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(lineno)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;] &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(message)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;datefmt&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%d&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/%b/%Y %H:%M:%S&amp;quot;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;simple&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;format&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(levelname)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(message)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;h2&gt;Filters&lt;/h2&gt;
&lt;p&gt;In my example, I don&amp;#8217;t want to filter anything. But if I did my filters would look like&amp;nbsp;so:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;filters&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;special&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;()&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;project.logging.SpecialFilter&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;This defines one filter, project.logging.SpecialFilter, using the alias special. In this case, the argument foo will be given a value of bar when instantiating the&amp;nbsp;SpecialFilter.&lt;/p&gt;
&lt;h2&gt;Handlers&lt;/h2&gt;
&lt;p&gt;This is where it gets fun. Now we&amp;#8217;re going to tell Django to log all of our output messages to a&amp;nbsp;file:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;handlers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;level&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;span class=&#34;caps&#34;&gt;DEBUG&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;class&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;logging.FileHandler&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;filename&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;mysite.log&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;formatter&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;verbose&amp;#39;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;level&lt;/code&gt; means to log anything &lt;code&gt;DEBUG&lt;/code&gt; or higher (which includes all levels) with this&amp;nbsp;handler.&lt;/p&gt;
&lt;h2&gt;Loggers&lt;/h2&gt;
&lt;p&gt;Finally, we will declare two loggers to be used, one for the django core and one for your&amp;nbsp;application:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;loggers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;django&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;handlers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;propagate&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;level&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;span class=&#34;caps&#34;&gt;DEBUG&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;span class=&#34;caps&#34;&gt;MYAPP&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;handlers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;level&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;span class=&#34;caps&#34;&gt;DEBUG&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Replace &lt;code&gt;MYAPP&lt;/code&gt; with the name of your application to test things&amp;nbsp;out.&lt;/p&gt;
&lt;h2&gt;Full Project&amp;nbsp;Configuration&lt;/h2&gt;
&lt;p&gt;According to the above, we should now have a logging config in &lt;code&gt;settings.py&lt;/code&gt; that looks like&amp;nbsp;this:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# settings.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;&lt;span class=&#34;caps&#34;&gt;LOGGING&lt;/span&gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;version&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;disable_existing_loggers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;formatters&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;verbose&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;format&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;[&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(asctime)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;] &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(levelname)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; [&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(name)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(lineno)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;] &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(message)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;datefmt&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%d&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/%b/%Y %H:%M:%S&amp;quot;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;simple&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;format&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(levelname)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%(message)s&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;handlers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;level&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;span class=&#34;caps&#34;&gt;DEBUG&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;class&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;logging.FileHandler&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;filename&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;mysite.log&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;formatter&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;verbose&amp;#39;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;loggers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;django&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;handlers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;propagate&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;level&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;span class=&#34;caps&#34;&gt;DEBUG&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;span class=&#34;caps&#34;&gt;MYAPP&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;handlers&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;br /&gt;            &lt;span class=&#34;s&#34;&gt;&amp;#39;level&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;&lt;span class=&#34;caps&#34;&gt;DEBUG&lt;/span&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;h2&gt;Testing&amp;nbsp;Logging&lt;/h2&gt;
&lt;p&gt;Let&amp;#8217;s go to our &lt;code&gt;views.py&lt;/code&gt; file and create some new functions that use&amp;nbsp;logging:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# views.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;logging&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;logging&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getLogger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;__name__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;myfunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;this is a debug message!&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;myotherfunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;this is an error message!!&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Now we&amp;#8217;ll use the shell to call these&amp;nbsp;functions.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;polls.views&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;myfunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;myotherfunction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python console session&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;And here is the output in our mysite.log&amp;nbsp;file:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;16/Apr/2013 09:49:38&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;caps&#34;&gt;DEBUG&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;polls.views:7&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; this is a debug message!&lt;br /&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;16/Apr/2013 09:49:46&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;caps&#34;&gt;ERROR&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;polls.views:10&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; this is an error message!!&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;h2&gt;Next&amp;nbsp;Steps&lt;/h2&gt;
&lt;p&gt;If you have a complex project with multiple applications, you can create multiple handlers with different file names to have multiple log files. As always, &lt;a href=&#34;https://docs.djangoproject.com/en/1.5/topics/logging/&#34;&gt;read the docs&lt;/a&gt; and good&amp;nbsp;luck!&lt;/p&gt;            </content>
        </entry>
            <entry>
            <title type="html">Building a True OAuth 2.0 API with Django and Tasty Pie</title>
            <author><name>Ian Alexander</name></author>
            <link href="/blog/building-a-true-oauth-20-api-with-django-and-tasty-pie.html"/>
            <updated>2013-04-10T22:00:00Z</updated>
            <published>2013-04-10T22:00:00Z</published>
            <id>/blog/building-a-true-oauth-20-api-with-django-and-tasty-pie.html</id>
            
            <content type="html">
                                &lt;p&gt;Almost a year ago PyDanny wrote a great article entitled &amp;#8220;&lt;a href=&#34;http://pydanny.com/the-sorry-state-of-python-oauth-providers.html&#34;&gt;The Sorry State of Python OAuth Providers&lt;/a&gt;&amp;#8221; detailing the abysmal state of OAuth in Python. One year later we have a few more options, and here I am going to detail how I made a django-based OAuth 2.0 &lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt; with Tasty&amp;nbsp;Pie.&lt;/p&gt;
&lt;h2&gt;Getting&amp;nbsp;Started&lt;/h2&gt;
&lt;p&gt;First things first, I cannot recommend enough the &lt;a href=&#34;https://github.com/Mashape/mashape-oauth/blob/master/FLOWS.md&#34;&gt;Mashape OAuth Bible&lt;/a&gt; enough. It is currently the most comprehensive document I have found covering both OAuth 1 and 2, and the various flows involved with each. Read up before you get started! We&amp;#8217;ll be using various components to put our &lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt;&amp;nbsp;together:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CaffieneHit&amp;#8217;s &lt;a href=&#34;https://github.com/caffeinehit/django-oauth2-provider&#34;&gt;django-oauth2-provider&lt;/a&gt; library will provide out-of-the-box OAuth provisioning&amp;nbsp;capabilities &lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://tastypieapi.org/&#34;&gt;Tasty Pie&lt;/a&gt; will create the&amp;nbsp;&lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;My &lt;a href=&#34;https://github.com/ianalexander/django-oauth2-tastypie&#34;&gt;django-oauth2-tastypie&lt;/a&gt; library will marry the two&amp;nbsp;together&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;#8217;ll be using the classic django &amp;#8220;Polls and Choices&amp;#8221; models as my&amp;nbsp;examples.&lt;/p&gt;
&lt;h2&gt;Setting up&amp;nbsp;Django&lt;/h2&gt;
&lt;p&gt;First things first, we need to create a new django project and create the essential&amp;nbsp;models.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;django-admin.py startproject mysite&lt;br /&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;cd &lt;/span&gt;mysite/&lt;br /&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;python manage.py startapp polls&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# mysite/polls/models.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;django.db&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Poll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;question&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CharField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;pub_date&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;DateTimeField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;date published&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__unicode__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;question&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Choice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;poll&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ForeignKey&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Poll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;choice_text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CharField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;votes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;models&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IntegerField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;__unicode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choice_text&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# mysite/polls/settings.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;INSTALLED_APPS&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;django.contrib.admin&amp;#39;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;polls&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Make sure you also add your database configuration and syncdb to add a new user. No surprises&amp;nbsp;here!&lt;/p&gt;
&lt;h2&gt;Setting up the&amp;nbsp;Provider&lt;/h2&gt;
&lt;p&gt;First we&amp;#8217;re going to install the&amp;nbsp;provider.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;sudo pip install django-oauth2-provider&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Next, add the two lines to add the default providers (which should be fine for most&amp;nbsp;use-cases).&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# mysite/polls/settings.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;INSTALLED_APPS&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;django.contrib.admin&amp;#39;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;polls&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;provider&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;provider.oauth2&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Include provider.oauth2.urls into your urls.py file (&lt;code&gt;namespace=&#39;oauth2&#39;&lt;/code&gt; is required!). Uncomment the admin lines at the top of the file for ease of working with tokens and&amp;nbsp;clients.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# mysite/polls/urls.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;django.contrib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;admin&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;admin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;autodiscover&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;r&amp;#39;^oauth2/&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;include&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;provider.oauth2.urls&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;oauth2&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Finally, use the admin console to add a new Client. Or you can do it&amp;nbsp;programatically:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;provider.oauth2.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Client&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;django.contrib.auth.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;u&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;objects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Client&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;mysite client&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;http://ianalexandr.com&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;save&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;client_id&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;go&#34;&gt;&amp;#39;d63f53a7a6cceba04db5&amp;#39;&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;client_secret&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;go&#34;&gt;&amp;#39;afe899288b9ac4127d57f2f12ac5a49d839364dc&amp;#39;&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python console session&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;h2&gt;Testing the&amp;nbsp;Provider&lt;/h2&gt;
&lt;p&gt;Now we can launch the server and test the OAuth Provider. We&amp;#8217;ll be using the &lt;a href=&#34;https://github.com/Mashape/mashape-oauth/blob/master/FLOWS.md#oauth-2-two-legged&#34;&gt;Two-Legged Resource Owner Password&lt;/a&gt;&amp;nbsp;flow.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;python manage.py runserver&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;curl -d &lt;span class=&#34;s2&#34;&gt;&amp;quot;client_id=d63f53a7a6cceba04db5&amp;amp;client_secret=afe899288b9ac4127d57f2f12ac5a49d839364dc&amp;amp;grant_type=password&amp;amp;username=ian&amp;amp;password=straightflexin&amp;amp;scope=write&amp;quot;&lt;/span&gt; http://localhost:8000/oauth2/access_token&lt;br /&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;access_token&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;a832106c17d00fd3b9094181c598820ef3ff76f4&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;scope&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;read write&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;expires_in&amp;quot;&lt;/span&gt;: 86399, &lt;span class=&#34;s2&#34;&gt;&amp;quot;refresh_token&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;bfdbd5510ae724a2dbd458e68274ab5c8590d3e4&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;If you see the access_token, viola! It&amp;#8217;s working! Verify the access_token is stored in your&amp;nbsp;database:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;provider.oauth2.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AccessToken&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AccessToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;objects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;go&#34;&gt;[&amp;lt;AccessToken: a832106c17d00fd3b9094181c598820ef3ff76f4&amp;gt;]&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python console session&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;h2&gt;Setting up the&amp;nbsp;&lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Now let&amp;#8217;s add Tasty Pie to the mix. First things&amp;nbsp;first:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;sudo pip install django-tastypie&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# mysite/polls/settings.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;INSTALLED_APPS&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;django.contrib.admin&amp;#39;&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;polls&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;provider&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;provider.oauth2&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;s&#34;&gt;&amp;#39;tastypie&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Now we need to add the appropriate Resources to our to our application. I like to use &lt;code&gt;polls/api.py&lt;/code&gt; but these classes can live anywhere. Once the Resources are created, we&amp;#8217;ll add them to our &lt;code&gt;urls.py&lt;/code&gt; using the &lt;code&gt;Api()&lt;/code&gt; class to bind multiple resources&amp;nbsp;together.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# mysite/polls/api.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tastypie.resources&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ModelResource&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;polls.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Poll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Choice&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tastypie&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ChoiceResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ModelResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Meta&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;queryset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Choice&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;objects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;resource_name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;choice&amp;#39;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;PollResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ModelResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ToManyField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ChoiceResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;choice_set&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;full&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Meta&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;queryset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Poll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;objects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;resource_name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;poll&amp;#39;&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# mysite/mysite/urls.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;django.conf.urls&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;patterns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;include&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;django.contrib&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;admin&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;admin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;autodiscover&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tastypie.api&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Api&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;polls.api&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PollResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ChoiceResource&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;v1_api&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Api&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;api_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;v1&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;v1_api&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;register&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PollResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;v1_api&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;register&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ChoiceResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;n&#34;&gt;urlpatterns&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;patterns&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;r&amp;#39;^admin/&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;include&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;admin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;site&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;urls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;r&amp;#39;^oauth2/&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;include&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;provider.oauth2.urls&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;oauth2&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;r&amp;#39;^api/&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;include&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v1_api&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;urls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Now let&amp;#8217;s test our our&amp;nbsp;&lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt;!&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;curl http://127.0.0.1:8000/api/v1/?format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;json&lt;br /&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;list_endpoint&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;schema&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/schema/&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;poll&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;list_endpoint&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/poll/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;schema&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/poll/schema/&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}}&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Looks like it&amp;#8217;s working, let&amp;#8217;s add an object and test the other&amp;nbsp;endpoints:&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;polls.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Poll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;question&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;All gold everything?&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pub_date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choice_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choice_text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;Chain&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;votes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;go&#34;&gt;&amp;lt;Choice: Choice object&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choice_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choice_text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;Ring&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;votes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;go&#34;&gt;&amp;lt;Choice: Choice object&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choice_set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;choice_text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;Watch&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;votes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;go&#34;&gt;&amp;lt;Choice: Choice object&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;save&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python console session&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;curl http://127.0.0.1:8000/api/v1/poll/?format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;json&lt;br /&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;meta&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;limit&amp;quot;&lt;/span&gt;: 20, &lt;span class=&#34;s2&#34;&gt;&amp;quot;next&amp;quot;&lt;/span&gt;: null, &lt;span class=&#34;s2&#34;&gt;&amp;quot;offset&amp;quot;&lt;/span&gt;: 0, &lt;span class=&#34;s2&#34;&gt;&amp;quot;previous&amp;quot;&lt;/span&gt;: null, &lt;span class=&#34;s2&#34;&gt;&amp;quot;total_count&amp;quot;&lt;/span&gt;: 1&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;objects&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choices&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Chain&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 1, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/1/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 0&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Ring&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 2, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/2/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 0&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Watch&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 3, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/3/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 0&lt;span class=&#34;o&#34;&gt;}]&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 1, &lt;span class=&#34;s2&#34;&gt;&amp;quot;pub_date&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;2013-04-10T12:38:47.337475&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;question&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;All gold everything?&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/poll/1/&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}]}&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;h2&gt;Authenticating with&amp;nbsp;django-oauth2-tastypie&lt;/h2&gt;
&lt;p&gt;Now we have an OAuth 2.0 provider and an &lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt;. Next we&amp;#8217;ll need to tell Tasty Pie to accept tokens, and to use django-oauth2-provider to validate the&amp;nbsp;tokens.&lt;/p&gt;
&lt;p&gt;Briefly before we get started: what is the difference between &lt;strong&gt;authentication&lt;/strong&gt; and &lt;strong&gt;authorization&lt;/strong&gt;? &lt;strong&gt;Authentication&lt;/strong&gt; answers the question, &amp;#8220;Who is this person?&amp;#8221; Authentication deals with usernames and passwords, OAuth Tokens, &lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt; Keys, and other means of identification. &lt;strong&gt;Authorization&lt;/strong&gt; answers the question &amp;#8220;Is this person allowed to perfom this action&amp;#8221;? Authorizaton deals with permissions, and access&amp;nbsp;limitations.&lt;/p&gt;
&lt;p&gt;First take a look at the &lt;code&gt;OAuth20Authentication&lt;/code&gt; class in &lt;a href=&#34;https://github.com/ianalexander/django-oauth2-tastypie&#34;&gt;django-oauth2-tastypie&lt;/a&gt;. Copy (or clone) &lt;code&gt;authenticate.py&lt;/code&gt; into your &lt;code&gt;mysite/polls/&lt;/code&gt; directory.&lt;/p&gt;
&lt;p&gt;Next, modify your &lt;code&gt;api.py&lt;/code&gt; file to use the new &lt;code&gt;Authentication&lt;/code&gt; class (and the &lt;code&gt;DjangoAuthrorization&lt;/code&gt; class for good&amp;nbsp;measure).&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;c&#34;&gt;# mysite/polls/api.py&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tastypie.resources&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ModelResource&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tastypie.authorization&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DjangoAuthorization&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;polls.models&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Poll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Choice&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;tastypie&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;authentication&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OAuth20Authentication&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ChoiceResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ModelResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Meta&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;queryset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Choice&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;objects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;resource_name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;choice&amp;#39;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;authorization&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DjangoAuthorization&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;authentication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OAuth20Authentication&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;PollResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ModelResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;n&#34;&gt;choices&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ToManyField&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ChoiceResource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;choice_set&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;full&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;bp&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;br /&gt;    &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Meta&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;queryset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Poll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;objects&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;resource_name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#39;poll&amp;#39;&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;authorization&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DjangoAuthorization&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;        &lt;span class=&#34;n&#34;&gt;authentication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OAuth20Authentication&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Python&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Now let&amp;#8217;s try to access our &lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt;&amp;nbsp;again.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;curl -v http://127.0.0.1:8000/api/v1/poll/?format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;json&lt;br /&gt;* About to connect&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; to 127.0.0.1 port 8000 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#0)&lt;/span&gt;&lt;br /&gt;*   Trying 127.0.0.1... connected&lt;br /&gt;&amp;gt; &lt;span class=&#34;caps&#34;&gt;GET&lt;/span&gt; /api/v1/poll/?format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;json &lt;span class=&#34;caps&#34;&gt;HTTP&lt;/span&gt;/1.1&lt;br /&gt;&amp;gt; User-Agent: curl/7.22.0 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;x86_64-pc-linux-gnu&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3&lt;br /&gt;&amp;gt; Host: 127.0.0.1:8000&lt;br /&gt;&amp;gt; Accept: */*&lt;br /&gt;&amp;gt; &lt;br /&gt;* &lt;span class=&#34;caps&#34;&gt;HTTP&lt;/span&gt; 1.0, assume close after body&lt;br /&gt;&amp;lt; &lt;span class=&#34;caps&#34;&gt;HTTP&lt;/span&gt;/1.0 401 &lt;span class=&#34;caps&#34;&gt;UNAUTHORIZED&lt;/span&gt;&lt;br /&gt;&amp;lt; Date: Thu, 11 Apr 2013 00:25:46 &lt;span class=&#34;caps&#34;&gt;GMT&lt;/span&gt;&lt;br /&gt;&amp;lt; Server: WSGIServer/0.1 Python/2.7.3&lt;br /&gt;&amp;lt; Content-Type: text/html; &lt;span class=&#34;nv&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;utf-8&lt;br /&gt;&amp;lt; &lt;br /&gt;* Closing connection &lt;span class=&#34;c&#34;&gt;#0&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Access Denied! Now let&amp;#8217;s add our Access Token to the Authorize header and try&amp;nbsp;again.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;curl -v -H &lt;span class=&#34;s2&#34;&gt;&amp;quot;Authorization: OAuth a832106c17d00fd3b9094181c598820ef3ff76f4&amp;quot;&lt;/span&gt; http://127.0.0.1:8000/api/v1/poll/?format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;json&lt;br /&gt;* About to connect&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; to 127.0.0.1 port 8000 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#0)&lt;/span&gt;&lt;br /&gt;*   Trying 127.0.0.1... connected&lt;br /&gt;&amp;gt; &lt;span class=&#34;caps&#34;&gt;GET&lt;/span&gt; /api/v1/poll/?format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;json &lt;span class=&#34;caps&#34;&gt;HTTP&lt;/span&gt;/1.1&lt;br /&gt;&amp;gt; User-Agent: curl/7.22.0 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;x86_64-pc-linux-gnu&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3&lt;br /&gt;&amp;gt; Host: 127.0.0.1:8000&lt;br /&gt;&amp;gt; Accept: */*&lt;br /&gt;&amp;gt; Authorization: OAuth a832106c17d00fd3b9094181c598820ef3ff76f4&lt;br /&gt;&amp;gt; &lt;br /&gt;* &lt;span class=&#34;caps&#34;&gt;HTTP&lt;/span&gt; 1.0, assume close after body&lt;br /&gt;&amp;lt; &lt;span class=&#34;caps&#34;&gt;HTTP&lt;/span&gt;/1.0 200 &lt;span class=&#34;caps&#34;&gt;OK&lt;/span&gt;&lt;br /&gt;&amp;lt; Date: Thu, 11 Apr 2013 00:27:42 &lt;span class=&#34;caps&#34;&gt;GMT&lt;/span&gt;&lt;br /&gt;&amp;lt; Server: WSGIServer/0.1 Python/2.7.3&lt;br /&gt;&amp;lt; Vary: Accept&lt;br /&gt;&amp;lt; Content-Type: application/json&lt;br /&gt;&amp;lt; Cache-Control: no-cache&lt;br /&gt;&amp;lt; &lt;br /&gt;* Closing connection &lt;span class=&#34;c&#34;&gt;#0&lt;/span&gt;&lt;br /&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;meta&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;limit&amp;quot;&lt;/span&gt;: 20, &lt;span class=&#34;s2&#34;&gt;&amp;quot;next&amp;quot;&lt;/span&gt;: null, &lt;span class=&#34;s2&#34;&gt;&amp;quot;offset&amp;quot;&lt;/span&gt;: 0, &lt;span class=&#34;s2&#34;&gt;&amp;quot;previous&amp;quot;&lt;/span&gt;: null, &lt;span class=&#34;s2&#34;&gt;&amp;quot;total_count&amp;quot;&lt;/span&gt;: 1&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;objects&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choices&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Chain&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 1, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/1/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 0&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Ring&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 2, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/2/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 0&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Watch&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 3, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/3/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 0&lt;span class=&#34;o&#34;&gt;}]&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 1, &lt;span class=&#34;s2&#34;&gt;&amp;quot;pub_date&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;2013-04-10T12:38:47.337475&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;question&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;All gold everything?&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/poll/1/&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}]}&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Success! Let&amp;#8217;s try to post some data. Personally, I prefer gold all in my&amp;nbsp;watch.&lt;/p&gt;
&lt;div class=&#34;codebox&#34;&gt;&lt;figure class=&#34;code&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;curl --dump-header - -H &lt;span class=&#34;s2&#34;&gt;&amp;quot;Authorization: OAuth a832106c17d00fd3b9094181c598820ef3ff76f4&amp;quot;&lt;/span&gt; -H &lt;span class=&#34;s2&#34;&gt;&amp;quot;Content-Type: application/json&amp;quot;&lt;/span&gt; -X put --data &lt;span class=&#34;s1&#34;&gt;&amp;#39;{&amp;quot;choice_text&amp;quot;: &amp;quot;Watch&amp;quot;, &amp;quot;id&amp;quot;: 3, &amp;quot;resource_uri&amp;quot;: &amp;quot;/api/v1/choice/3/&amp;quot;, &amp;quot;votes&amp;quot;: 1}&amp;#39;&lt;/span&gt; http://127.0.0.1:8000/api/v1/choice/3/&lt;br /&gt;&lt;span class=&#34;caps&#34;&gt;HTTP&lt;/span&gt;/1.0 204 &lt;span class=&#34;caps&#34;&gt;NO&lt;/span&gt; &lt;span class=&#34;caps&#34;&gt;CONTENT&lt;/span&gt;&lt;br /&gt;Date: Thu, 11 Apr 2013 00:50:34 &lt;span class=&#34;caps&#34;&gt;GMT&lt;/span&gt;&lt;br /&gt;Server: WSGIServer/0.1 Python/2.7.3&lt;br /&gt;Vary: Accept&lt;br /&gt;Content-Length: 0&lt;br /&gt;Content-Type: text/html; &lt;span class=&#34;nv&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;utf-8&lt;br /&gt;&lt;span class=&#34;nv&#34;&gt;$ &lt;/span&gt;curl --dump-header - -H &lt;span class=&#34;s2&#34;&gt;&amp;quot;Authorization: OAuth a832106c17d00fd3b9094181c598820ef3ff76f4&amp;quot;&lt;/span&gt; http://127.0.0.1:8000/api/v1/poll/?format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;json&lt;br /&gt;&lt;span class=&#34;caps&#34;&gt;HTTP&lt;/span&gt;/1.0 200 &lt;span class=&#34;caps&#34;&gt;OK&lt;/span&gt;&lt;br /&gt;Date: Thu, 11 Apr 2013 00:51:36 &lt;span class=&#34;caps&#34;&gt;GMT&lt;/span&gt;&lt;br /&gt;Server: WSGIServer/0.1 Python/2.7.3&lt;br /&gt;Vary: Accept&lt;br /&gt;Content-Type: application/json&lt;br /&gt;Cache-Control: no-cache&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;meta&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;limit&amp;quot;&lt;/span&gt;: 20, &lt;span class=&#34;s2&#34;&gt;&amp;quot;next&amp;quot;&lt;/span&gt;: null, &lt;span class=&#34;s2&#34;&gt;&amp;quot;offset&amp;quot;&lt;/span&gt;: 0, &lt;span class=&#34;s2&#34;&gt;&amp;quot;previous&amp;quot;&lt;/span&gt;: null, &lt;span class=&#34;s2&#34;&gt;&amp;quot;total_count&amp;quot;&lt;/span&gt;: 1&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;objects&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choices&amp;quot;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Chain&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 1, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/1/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 0&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Ring&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 2, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/2/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 0&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;choice_text&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;Watch&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 3, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/choice/3/&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;votes&amp;quot;&lt;/span&gt;: 1&lt;span class=&#34;o&#34;&gt;}]&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;: 1, &lt;span class=&#34;s2&#34;&gt;&amp;quot;pub_date&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;2013-04-10T12:38:47.337475&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;question&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;All gold everything?&amp;quot;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;quot;/api/v1/poll/1/&amp;quot;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}]}&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;br /&gt;&lt;figcaption&gt;Bash&lt;/figcaption&gt;&lt;/figure&gt;&lt;/div&gt;

&lt;p&gt;Now it shows our updated resource. Our &lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt; is now authenticating with OAuth&amp;nbsp;2.0!&lt;/p&gt;
&lt;h2&gt;Next&amp;nbsp;Steps&lt;/h2&gt;
&lt;p&gt;This brief example shows how to get started with your &lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt;. Taking your &lt;span class=&#34;caps&#34;&gt;API&lt;/span&gt; to the next level you may have some more&amp;nbsp;questions:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How do I manage the scope of the tokens?&lt;/strong&gt; Token scope for &lt;code&gt;django-oauth2-provider&lt;/code&gt; can be overwritten in your django project&amp;#8217;s &lt;code&gt;settings.py&lt;/code&gt; file. Use the &lt;a href=&#34;https://django-oauth2-provider.readthedocs.org/en/latest/api.html#provider-constants&#34;&gt;&lt;span class=&#34;caps&#34;&gt;SCOPES&lt;/span&gt;&lt;/a&gt; setting to define new token&amp;nbsp;scope.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How do I change the lifetime of my tokens?&lt;/strong&gt; Similar to scope, you can set the token expiry time in the &lt;code&gt;settings.py&lt;/code&gt; as well. Check the &lt;a href=&#34;https://django-oauth2-provider.readthedocs.org/en/latest/api.html#provider-constants&#34;&gt;EXPIRE_DELTA&lt;/a&gt; setting to change the token expiry&amp;nbsp;time.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How do I manage authorization permissions?&lt;/strong&gt; &lt;code&gt;DjangoAuthorization()&lt;/code&gt; is a standard Tasty Pie class. Check the &lt;a href=&#34;http://django-tastypie.readthedocs.org/en/latest/authentication_authorization.html#djangoauthorization&#34;&gt;documentation&lt;/a&gt; and &lt;a href=&#34;https://github.com/toastdriven/django-tastypie/blob/master/tastypie/authorization.py#L130&#34;&gt;source&lt;/a&gt; for more&amp;nbsp;information.&lt;/p&gt;
&lt;h2&gt;Thank&amp;nbsp;you!&lt;/h2&gt;
&lt;p&gt;If you found this useful, please send me a &lt;a href=&#34;https://twitter.com/ianalexan&#34;&gt;tweet&lt;/a&gt; or get in contact with me via the top of the page. Good&amp;nbsp;luck!&lt;/p&gt;            </content>
        </entry>
            <entry>
            <title type="html">Does the Internet really need another Blog?</title>
            <author><name>Ian Alexander</name></author>
            <link href="/blog/does-the-internet-really-need-another-blog.html"/>
            <updated>2013-04-07T22:00:00Z</updated>
            <published>2013-04-07T22:00:00Z</published>
            <id>/blog/does-the-internet-really-need-another-blog.html</id>
            
            <content type="html">
                                &lt;p&gt;After going back and forth for the last couple of months, I&amp;#8217;ve decided to start writing again. One of the main points I wrestled with was, does the internet need another blog? What value can I add? What will readers gain from my perspective? I have decided that this is a narrow&amp;nbsp;view.&lt;/p&gt;
&lt;h2&gt;Writing as Personal&amp;nbsp;Eminence&lt;/h2&gt;
&lt;p&gt;At my current employer, we are heavily encouraged to assist in the creation of &amp;#8220;eminence&amp;#8221; materials for the company. These documents range from whitepapers to POVs to internal educational materials. After I leave, all of my eminence will be tied to these documents, and thus the firm. Writing provides a means to develop personal eminence for ideas and thing I find interesting. This eminence will stay with me regardless of where and how I create&amp;nbsp;it.&lt;/p&gt;
&lt;h2&gt;Writing as Building&amp;nbsp;Focus&lt;/h2&gt;
&lt;p&gt;Unquestionably, writing helps you learn what you are doing. Writing down the steps I&amp;#8217;ve taken to create something helps me better understand what I have actually been doing. From a technical standpoint, documenting the steps taken to produce a given result helps recreate that result in the future, and better understand the inner workings of your finished&amp;nbsp;product.&lt;/p&gt;
&lt;h2&gt;Writing as Personal&amp;nbsp;Growth&lt;/h2&gt;
&lt;p&gt;Writing helps document and visualize your thought process over a long period of time. At the macro level, trends can be observed that would go unnoticed at the day-to-day level. Writing helps shake out the noise, and see the bigger picture in your development as a&amp;nbsp;person.&lt;/p&gt;
&lt;h2&gt;Writing isn&amp;#8217;t just for&amp;nbsp;Education&lt;/h2&gt;
&lt;p&gt;Even if you have no readers, one can realize the above benefits. But, if you have the opportunity to expose your writing to others, you have an opportunity to help give back to the community we are all a part&amp;nbsp;of.&lt;/p&gt;
&lt;p&gt;This is the first post. This blog is powered by &lt;a href=&#34;https://github.com/hyde/hyde&#34;&gt;Hyde&lt;/a&gt;, with a &lt;a href=&#34;http://twitter.github.io/bootstrap/&#34;&gt;Bootstrap&lt;/a&gt; based theme. The font is Calluna from &lt;a href=&#34;http://www.exljbris.com/calluna.html&#34;&gt;Exljbris&lt;/a&gt;. The views and opinions expressed here are mine, and do not reflect the official policy or position of any other persons, organizations, employers, or other&amp;nbsp;party.&lt;/p&gt;            </content>
        </entry>
    </feed>
